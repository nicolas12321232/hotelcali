"use strict";(self.webpackChunkhotel_front=self.webpackChunkhotel_front||[]).push([[47],{3047:(ot,p,a)=>{a.r(p),a.d(p,{HabitacionesModule:()=>it});var l=a(8583),f=a(4655),s=a(3679),m=a(9692),c=a(2789),x=a(5744),A=a(3647),t=a(7716),h=a(9866),N=a(9344),_=a(2340),U=a(3046),y=a(1841);let Y=(()=>{class i extends U.b{constructor(o){super(o,`${_.N.host}/habitaciones`)}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(y.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var S=a(2732),b=a(5618),d=a(8295),g=a(7441),Z=a(9983),T=a(1095),v=a(2458),C=a(6627);function q(i,e){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const o=e.$implicit;t.Q6J("value",o.id),t.xp6(1),t.hij(" ",o.nombre," ")}}function D(i,e){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const o=e.$implicit;t.Q6J("value",o.value),t.xp6(1),t.hij(" ",o.nombre," ")}}function F(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){return t.CHM(o),t.oxw().onEliminar()}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.qZA()}}function Q(i,e){1&i&&(t.TgZ(0,"th",30),t._uU(1," Codigo "),t.qZA())}function j(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o.id," ")}}function J(i,e){1&i&&(t.TgZ(0,"th",30),t._uU(1," Habitaci\xf3n "),t.qZA())}function E(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o.nombre," ")}}function I(i,e){1&i&&(t.TgZ(0,"th",30),t._uU(1," Descripci\xf3n "),t.qZA())}function w(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o.descripcion," ")}}function M(i,e){1&i&&(t.TgZ(0,"th",30),t._uU(1," Tipo de Habitaci\xf3n "),t.qZA())}function k(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o.tipoHabitacion.nombre," ")}}function O(i,e){1&i&&(t.TgZ(0,"th",30),t._uU(1," Disponibilidad "),t.qZA())}function B(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o.disponibilidad," ")}}function z(i,e){1&i&&(t.TgZ(0,"th",30),t._uU(1," Estado "),t.qZA())}function $(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o.estado," ")}}function L(i,e){1&i&&(t.TgZ(0,"th",30),t._uU(1," Editar "),t.qZA())}function R(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"td",31),t.TgZ(1,"div",32),t.TgZ(2,"button",33),t.NdJ("click",function(){const u=t.CHM(o).$implicit;return t.oxw().onEditarClick(u)}),t.TgZ(3,"mat-icon"),t._uU(4,"edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function P(i,e){1&i&&t._UZ(0,"tr",34)}function G(i,e){1&i&&t._UZ(0,"tr",35)}const V=function(){return[5,10,20]},W=[{path:"",component:(()=>{class i{constructor(o,n,r,u,H){this.fb=o,this.spinner=n,this.toastr=r,this.habitacionService=u,this.tipHabService=H,this.estados=[{value:1,nombre:"Ocupada"},{value:2,nombre:"Libre"},{value:3,nombre:"En Mantenimiento"}],this.editar=!1,this.mensajeSatisfactorio="Satisfactorio",this.displayedColumns=["id","nombre","descripcion","tipoHabitacion","disponibilidad","estado","editar"],this.dataSource=new c.by([])}ngOnInit(){this.buscar(),this.initForm(),this.listarTipoHabitaciones()}initForm(){this.form=this.fb.group({nombre:new s.NI("",s.kI.required),descripcion:new s.NI("",s.kI.required),tipoHabitacion:new s.NI("",s.kI.required),estado:new s.NI("",s.kI.required),disponibilidad:new s.NI("",s.kI.required),id:new s.NI("")})}listarTipoHabitaciones(){this.tipHabService.buscarTodo().subscribe(o=>{this.lstTipHabitacion=o})}clickEnviar(){let o=new x.w,n=new A.g;this.spinner.show(),o.id=this.form.get("id").value,o.nombre=this.form.get("nombre").value,o.descripcion=this.form.get("descripcion").value,o.disponibilidad=this.form.get("disponibilidad").value,o.estado=this.form.get("estado").value,n.id=this.form.get("tipoHabitacion").value,o.tipoHabitacion=n,console.log(o),this.editar?this.actualizar(o):this.registrar(o),this.editar=!1}onCancelar(){this.form.reset(),this.editar=!1}registrar(o){this.habitacionService.crear(o).subscribe(n=>{this.spinner.hide(),this.toastr.success(this.mensajeSatisfactorio),this.form.reset(),this.buscar()},n=>this.mensajeError(n))}actualizar(o){this.habitacionService.editar(o).subscribe(n=>{this.spinner.hide(),this.toastr.success(this.mensajeSatisfactorio),this.form.reset(),this.buscar()},n=>this.mensajeError(n))}buscar(){this.habitacionService.buscarTodo().subscribe(o=>{console.log(o),this.dataSource=new c.by(o),this.paginator.firstPage(),this.dataSource.paginator=this.paginator})}mensajeError(o){this.spinner.hide(),console.log(o),this.toastr.error("Ha ocurrido un problema ")}onEditarClick(o){this.editar=!0,this.form.get("id").setValue(o.id),this.form.get("nombre").setValue(o.nombre),this.form.get("descripcion").setValue(o.descripcion),this.form.get("tipoHabitacion").setValue(o.tipoHabitacion.id),this.form.get("disponibilidad").setValue(o.disponibilidad),this.form.get("estado").setValue(o.estado),this.codigo=o.id}onEliminar(){this.spinner.show();let o=this.form.get("id").value;this.spinner.show(),this.habitacionService.eliminar(o).subscribe(n=>{this.spinner.hide(),this.toastr.success(this.mensajeSatisfactorio),this.form.reset(),this.editar=!1,this.buscar()},n=>this.mensajeError(n))}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(s.qu),t.Y36(h.t2),t.Y36(N._W),t.Y36(Y),t.Y36(S.l))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-habitaciones"]],viewQuery:function(o,n){if(1&o&&t.Gf(m.NW,5),2&o){let r;t.iGM(r=t.CRH())&&(n.paginator=r.first)}},decls:64,vars:10,consts:[[2,"margin-top","10%"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","space-evenly center"],["formControlName","tipoHabitacion"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","nombre","maxlength","45","placeholder","Name"],["message",""],["matInput","","formControlName","descripcion","maxlength","45","placeholder","Name"],["matInput","","formControlName","disponibilidad","maxlength","45","placeholder","Name"],["formControlName","estado"],["fxLayout","row","fxLayoutAlign","center center"],["mat-raised-button","",1,"boton",3,"disabled","click"],["mat-raised-button","",1,"boton",3,"click"],["class","boton eliminar",3,"click",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","descripcion"],["matColumnDef","tipoHabitacion"],["matColumnDef","disponibilidad"],["matColumnDef","estado"],["matColumnDef","editar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"value"],[1,"boton","eliminar",3,"click"],["mat-header-cell",""],["mat-cell",""],[1,"example-button-container"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div"),t.TgZ(2,"form",1),t._UZ(3,"br"),t.TgZ(4,"div",2),t.TgZ(5,"mat-form-field"),t.TgZ(6,"mat-label"),t._uU(7,"Tipo de Habitacion"),t.qZA(),t.TgZ(8,"mat-select",3),t.YNc(9,q,2,2,"mat-option",4),t.qZA(),t.qZA(),t.TgZ(10,"mat-form-field"),t.TgZ(11,"mat-label"),t._uU(12,"Habitaci\xf3n"),t.qZA(),t._UZ(13,"input",5,6),t.qZA(),t.TgZ(15,"mat-form-field"),t.TgZ(16,"mat-label"),t._uU(17,"Descripci\xf3n"),t.qZA(),t._UZ(18,"input",7,6),t.qZA(),t.TgZ(20,"mat-form-field"),t.TgZ(21,"mat-label"),t._uU(22,"Disponibilidad"),t.qZA(),t._UZ(23,"input",8,6),t.qZA(),t.TgZ(25,"mat-form-field"),t.TgZ(26,"mat-label"),t._uU(27,"Estado"),t.qZA(),t.TgZ(28,"mat-select",9),t.YNc(29,D,2,2,"mat-option",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",10),t.TgZ(31,"button",11),t.NdJ("click",function(){return n.clickEnviar()}),t._uU(32," Enviar "),t.qZA(),t.TgZ(33,"button",12),t.NdJ("click",function(){return n.onCancelar()}),t._uU(34," Cancelar "),t.qZA(),t.YNc(35,F,3,0,"button",13),t.qZA(),t.qZA(),t._UZ(36,"br"),t._UZ(37,"br"),t.qZA(),t.TgZ(38,"div",14),t.TgZ(39,"table",15),t.ynx(40,16),t.YNc(41,Q,2,0,"th",17),t.YNc(42,j,2,1,"td",18),t.BQk(),t.ynx(43,19),t.YNc(44,J,2,0,"th",17),t.YNc(45,E,2,1,"td",18),t.BQk(),t.ynx(46,20),t.YNc(47,I,2,0,"th",17),t.YNc(48,w,2,1,"td",18),t.BQk(),t.ynx(49,21),t.YNc(50,M,2,0,"th",17),t.YNc(51,k,2,1,"td",18),t.BQk(),t.ynx(52,22),t.YNc(53,O,2,0,"th",17),t.YNc(54,B,2,1,"td",18),t.BQk(),t.ynx(55,23),t.YNc(56,z,2,0,"th",17),t.YNc(57,$,2,1,"td",18),t.BQk(),t.ynx(58,24),t.YNc(59,L,2,0,"th",17),t.YNc(60,R,5,0,"td",18),t.BQk(),t.YNc(61,P,1,0,"tr",25),t.YNc(62,G,1,0,"tr",26),t.qZA(),t._UZ(63,"mat-paginator",27),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(7),t.Q6J("ngForOf",n.lstTipHabitacion),t.xp6(20),t.Q6J("ngForOf",n.estados),t.xp6(2),t.Q6J("disabled",!n.form.valid),t.xp6(4),t.Q6J("ngIf",n.editar),t.xp6(4),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(9,V)))},directives:[s._Y,s.JL,s.sg,b.xw,b.Wh,d.KE,d.hX,g.gD,s.JJ,s.u,l.sg,Z.Nt,s.Fj,s.nD,T.lW,l.O5,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,m.NW,v.ey,C.Hw,c.ge,c.ev,c.XQ,c.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#c31313;color:#fff;font-size:large}.ayuda[_ngcontent-%COMP%]{box-shadow:solid 100px #c31313}.boton[_ngcontent-%COMP%]{background-color:#c31313;color:#fff;height:36px}.eliminar[_ngcontent-%COMP%]{width:40px}"]}),i})()}];let X=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[f.Bz.forChild(W)],f.Bz]}),i})();var K=a(3356),tt=a(3220);let it=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez,X,tt.FA,K.o9,s.UX,Z.c,d.lN,T.ot,C.Ps,g.LD,c.p0,m.TU,h.ef,v.XK]]}),i})()}}]);