"use strict";(self.webpackChunkhotel_front=self.webpackChunkhotel_front||[]).push([[59],{9059:(mt,u,r)=>{r.r(u),r.d(u,{PersonaModule:()=>lt});var d=r(8583),h=r(4655),n=r(3679),p=r(9692),c=r(2789),N=r(9269);class U{}var t=r(7716),P=r(5834),g=r(9866),b=r(9344),I=r(3611),q=r(2340),y=r(3046),Y=r(1841);let S=(()=>{class e extends y.b{constructor(o){super(o,`${q.N.host}/tipo-identificaciones`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(Y.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=r(5618),m=r(8295),T=r(9983),f=r(3220),C=r(7441),A=r(1095),_=r(2458),v=r(6627);function D(e,i){if(1&e&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.Q6J("value",o.id),t.xp6(1),t.hij(" ",o.nombre," ")}}function F(e,i){1&e&&(t.TgZ(0,"button",44),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.qZA())}function j(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1," Codigo "),t.qZA())}function k(e,i){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.id," ")}}function Q(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1," Nombres "),t.qZA())}function w(e,i){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.nombre," ")}}function J(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1,"Primer Apellido "),t.qZA())}function M(e,i){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.apellido1," ")}}function B(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1," Segundo Apellido "),t.qZA())}function E(e,i){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.apellido2," ")}}function O(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1," Fecha de Nacimiento "),t.qZA())}function z(e,i){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.fechaNacimiento," ")}}function R(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1," Tipo de identificacion "),t.qZA())}function $(e,i){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.tipoIdentificacion.nombre," ")}}function V(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1," Identificaci\xf3n "),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.identificacion," ")}}function H(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1," Telefono "),t.qZA())}function G(e,i){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.telefono," ")}}function W(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1," Direccion "),t.qZA())}function X(e,i){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.direccion," ")}}function K(e,i){1&e&&(t.TgZ(0,"th",45),t._uU(1," Editar "),t.qZA())}function tt(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"td",46),t.TgZ(1,"div",47),t.TgZ(2,"button",48),t.NdJ("click",function(){const s=t.CHM(o).$implicit;return t.oxw().onEditarClick(s)}),t.TgZ(3,"mat-icon"),t._uU(4,"edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function et(e,i){1&e&&t._UZ(0,"tr",49)}function ot(e,i){1&e&&t._UZ(0,"tr",50)}function it(e,i){if(1&e&&(t.TgZ(0,"tr",51),t.TgZ(1,"td",52),t._uU(2),t.qZA(),t.qZA()),2&e){t.oxw();const o=t.MAs(69);t.xp6(2),t.hij('Ninguna coincidencia con el filtro "',o.value,'"')}}const nt=function(){return[5,10,20]},at=[{path:"",component:(()=>{class e{constructor(o,a,l,s,x,st){this.fb=o,this.personaService=a,this.spinner=l,this.toastr=s,this.formatoFecha=x,this.tipIdeService=st,this.editar=!1,this.mensajeSatisfactorio="Satisfactorio",this.displayedColumns=["id","nombre","apellido1","apellido2","fechaNacimiento","tipoIdentificacion","identificacion","telefono","direccion","editar"],this.dataSource=new c.by([])}ngOnInit(){this.initForm(),this.buscar(),this.listarTipoIdentificacion()}initForm(){this.form=this.fb.group({nombre:new n.NI("",n.kI.required),apellido1:new n.NI("",n.kI.required),apellido2:new n.NI("",n.kI.required),fechaNacimiento:new n.NI("",n.kI.required),tipoIdentificacion:new n.NI("",n.kI.required),identificacion:new n.NI("",n.kI.required),telefono:new n.NI("",n.kI.required),direccion:new n.NI("",n.kI.required),id:new n.NI("")})}listarTipoIdentificacion(){this.tipIdeService.buscarTodo().subscribe(o=>{this.lstTipIdeCodigo=o,console.log(o)})}clickEnviar(){let o=new N.I,a=new U;this.spinner.show(),o.id=this.form.get("id").value,o.nombre=this.form.get("nombre").value,o.apellido1=this.form.get("apellido1").value,o.apellido2=this.form.get("apellido2").value,o.fechaNacimiento=this.form.get("fechaNacimiento").value,a.id=this.form.get("tipoIdentificacion").value,o.tipoIdentificacion=a,o.identificacion=this.form.get("identificacion").value,o.telefono=this.form.get("telefono").value,o.direccion=this.form.get("direccion").value,console.log(o),this.editar?this.actualizar(o):this.registrar(o)}onCancelar(){this.form.reset(),this.editar=!1}registrar(o){this.personaService.crear(o).subscribe(a=>{this.spinner.hide(),this.toastr.success(this.mensajeSatisfactorio),this.form.reset(),this.buscar()},a=>this.mensajeError(a))}actualizar(o){this.personaService.editar(o).subscribe(a=>{this.spinner.hide(),this.toastr.success(this.mensajeSatisfactorio),this.form.reset(),this.buscar()},a=>this.mensajeError(a))}buscar(){this.personaService.buscarTodo().subscribe(o=>{console.log(o),this.dataSource=new c.by(o),this.paginator.firstPage(),this.dataSource.paginator=this.paginator})}mensajeError(o){this.spinner.hide(),console.log(o),this.toastr.error("Ha ocurrido un problema ")}onEditarClick(o){this.editar=!0,this.form.get("id").setValue(o.id),this.form.get("nombre").setValue(o.nombre),this.form.get("apellido1").setValue(o.apellido1),this.form.get("apellido2").setValue(o.apellido2),this.form.get("fechaNacimiento").setValue(this.formatoFecha.stringTodate(""+o.fechaNacimiento)),this.form.get("tipoIdentificacion").setValue(o.tipoIdentificacion.id),this.form.get("identificacion").setValue(o.identificacion),this.form.get("telefono").setValue(o.telefono),this.form.get("direccion").setValue(o.direccion),this.codigo=o.id}applyFilter(o){this.dataSource.filter=o.target.value.trim().toLowerCase()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(n.qu),t.Y36(P.J),t.Y36(g.t2),t.Y36(b._W),t.Y36(I.p),t.Y36(S))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-persona"]],viewQuery:function(o,a){if(1&o&&t.Gf(p.NW,5),2&o){let l;t.iGM(l=t.CRH())&&(a.paginator=l.first)}},decls:106,vars:14,consts:[[2,"margin-top","8%"],["fxLayoutAlign","space-evenly center"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","space-evenly center"],["matInput","","formControlName","nombre","maxlength","45","placeholder","Name"],["message",""],["align","end"],["matInput","","formControlName","apellido1","maxlength","45","placeholder","Primer Apellido"],["matInput","","formControlName","apellido2","maxlength","45","placeholder","Segundo Apellido"],["matInput","","formControlName","fechaNacimiento",3,"matDatepicker"],["matSuffix","",3,"for"],["color","primary"],["picker2",""],["formControlName","tipoIdentificacion"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","identificacion","maxlength","45","placeholder","Segundo Apellido"],["type","number","matInput","","formControlName","telefono","maxlength","45","placeholder","Telefono"],["matInput","","formControlName","direccion","maxlength","45","placeholder","Direccion"],["fxLayout","row","fxLayoutAlign","center center"],["mat-raised-button","",1,"boton",3,"disabled","click"],["mat-raised-button","",1,"boton",3,"click"],["class","boton eliminar",4,"ngIf"],["appearance","standard",1,"filtro"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","apellido1"],["matColumnDef","apellido2"],["matColumnDef","fechaNacimiento"],["matColumnDef","tipoIdentificacion"],["matColumnDef","identificacion"],["matColumnDef","telefono"],["matColumnDef","direccion"],["matColumnDef","editar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"value"],[1,"boton","eliminar"],["mat-header-cell",""],["mat-cell",""],[1,"example-button-container"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t.TgZ(2,"strong"),t._uU(3,"PERSONAS"),t.qZA(),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"form",2),t._UZ(6,"br"),t.TgZ(7,"div",3),t.TgZ(8,"mat-form-field"),t.TgZ(9,"mat-label"),t._uU(10,"Nombres"),t.qZA(),t._UZ(11,"input",4,5),t.TgZ(13,"mat-hint",6),t._uU(14),t.qZA(),t.qZA(),t.TgZ(15,"mat-form-field"),t.TgZ(16,"mat-label"),t._uU(17,"Primer Apellido"),t.qZA(),t._UZ(18,"input",7,5),t.TgZ(20,"mat-hint",6),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"mat-form-field"),t.TgZ(23,"mat-label"),t._uU(24,"Segundo Apellido"),t.qZA(),t._UZ(25,"input",8,5),t.TgZ(27,"mat-hint",6),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"mat-form-field"),t.TgZ(30,"mat-label"),t._uU(31,"Fecha de Nacimiento"),t.qZA(),t._UZ(32,"input",9),t._UZ(33,"mat-datepicker-toggle",10),t._UZ(34,"mat-datepicker",11,12),t.qZA(),t.TgZ(36,"mat-form-field"),t.TgZ(37,"mat-label"),t._uU(38,"Tipo de Identificaci\xf3n"),t.qZA(),t.TgZ(39,"mat-select",13),t.YNc(40,D,2,2,"mat-option",14),t.qZA(),t.qZA(),t.TgZ(41,"mat-form-field"),t.TgZ(42,"mat-label"),t._uU(43,"Numero de Identificaci\xf3n"),t.qZA(),t._UZ(44,"input",15,5),t.qZA(),t.TgZ(46,"mat-form-field"),t.TgZ(47,"mat-label"),t._uU(48,"Numero de Telefono"),t.qZA(),t._UZ(49,"input",16,5),t.qZA(),t.TgZ(51,"mat-form-field"),t.TgZ(52,"mat-label"),t._uU(53,"Direcci\xf3n"),t.qZA(),t._UZ(54,"input",17,5),t.qZA(),t.qZA(),t.TgZ(56,"div",18),t.TgZ(57,"button",19),t.NdJ("click",function(){return a.clickEnviar()}),t._uU(58," Enviar "),t.qZA(),t.TgZ(59,"button",20),t.NdJ("click",function(){return a.onCancelar()}),t._uU(60," Cancelar "),t.qZA(),t.YNc(61,F,3,0,"button",21),t.qZA(),t.qZA(),t._UZ(62,"br"),t._UZ(63,"br"),t.qZA(),t.TgZ(64,"div",1),t.TgZ(65,"mat-form-field",22),t.TgZ(66,"mat-label"),t._uU(67,"Filtro"),t.qZA(),t.TgZ(68,"input",23,24),t.NdJ("keyup",function(s){return a.applyFilter(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(70,"div",25),t.TgZ(71,"table",26),t.ynx(72,27),t.YNc(73,j,2,0,"th",28),t.YNc(74,k,2,1,"td",29),t.BQk(),t.ynx(75,30),t.YNc(76,Q,2,0,"th",28),t.YNc(77,w,2,1,"td",29),t.BQk(),t.ynx(78,31),t.YNc(79,J,2,0,"th",28),t.YNc(80,M,2,1,"td",29),t.BQk(),t.ynx(81,32),t.YNc(82,B,2,0,"th",28),t.YNc(83,E,2,1,"td",29),t.BQk(),t.ynx(84,33),t.YNc(85,O,2,0,"th",28),t.YNc(86,z,2,1,"td",29),t.BQk(),t.ynx(87,34),t.YNc(88,R,2,0,"th",28),t.YNc(89,$,2,1,"td",29),t.BQk(),t.ynx(90,35),t.YNc(91,V,2,0,"th",28),t.YNc(92,L,2,1,"td",29),t.BQk(),t.ynx(93,36),t.YNc(94,H,2,0,"th",28),t.YNc(95,G,2,1,"td",29),t.BQk(),t.ynx(96,37),t.YNc(97,W,2,0,"th",28),t.YNc(98,X,2,1,"td",29),t.BQk(),t.ynx(99,38),t.YNc(100,K,2,0,"th",28),t.YNc(101,tt,5,0,"td",29),t.BQk(),t.YNc(102,et,1,0,"tr",39),t.YNc(103,ot,1,0,"tr",40),t.YNc(104,it,3,1,"tr",41),t.qZA(),t._UZ(105,"mat-paginator",42),t.qZA(),t.qZA()),2&o){const l=t.MAs(12),s=t.MAs(35);t.xp6(5),t.Q6J("formGroup",a.form),t.xp6(9),t.hij("",l.value.length," / 45"),t.xp6(7),t.hij("",l.value.length," / 45"),t.xp6(7),t.hij("",l.value.length," / 45"),t.xp6(4),t.Q6J("matDatepicker",s),t.xp6(1),t.Q6J("for",s),t.xp6(7),t.Q6J("ngForOf",a.lstTipIdeCodigo),t.xp6(17),t.Q6J("disabled",!a.form.valid),t.xp6(4),t.Q6J("ngIf",a.editar),t.xp6(10),t.Q6J("dataSource",a.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(13,nt))}},directives:[Z.Wh,n._Y,n.JL,n.sg,Z.xw,m.KE,m.hX,T.Nt,n.Fj,n.JJ,n.u,n.nD,m.bx,f.hl,f.nW,m.R9,f.Mq,C.gD,d.sg,n.wV,A.lW,d.O5,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,c.Ee,p.NW,_.ey,v.Hw,c.ge,c.ev,c.XQ,c.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#c31313;color:#fff;font-size:large}.ayuda[_ngcontent-%COMP%]{box-shadow:solid 100px #c31313}.boton[_ngcontent-%COMP%]{background-color:#c31313;color:#fff;height:36px}.eliminar[_ngcontent-%COMP%]{width:40px}.filtro[_ngcontent-%COMP%]{font-size:14px;width:80%}"]}),e})()}];let rt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.Bz.forChild(at)],h.Bz]}),e})();var ct=r(3356);let lt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,rt,f.FA,ct.o9,n.UX,T.c,m.lN,A.ot,v.Ps,C.LD,c.p0,p.TU,g.ef,_.XK]]}),e})()}}]);